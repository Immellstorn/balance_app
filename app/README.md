## Установка и запуск проекта

#### SCRF токен отключен в роутинге для запуска без дополнительной настройки

#### Проект можно поднять в docker, для этого нужно вызвать следующие команды из корневого каталога проекта

```cli
docker-compose up --build -d
```

### Конфигурации docker для php-fpm и nginx находятся в директории ```/docker```

``` dir
/docker/nginx/default.conf - конфигурация nginx резервирует :80 порт на хост машин
```



### Обратиться к API можно через любой REST клиент по адресу http://localhost:80

Установка пакетов из composer

```bash
docker exec -i php-balance composer install
```

Запуск миграции для создания таблиц в БД

```bash
docker exec -i php-balance php artisan migrate
```

Запуск сидов для создания пользователей в БД

```bash
docker-compose exec -i php-balance php artisan db:seed
```

## API взаимодействие

#### CSRF токен по умолчанию не включен для `/api/*` для удобства работы с REST клиентов

### Начисление средств пользователю

```http
POST /api/deposit
```

| Параметр  | Тип      | Описание                                     |
|:----------|:---------|:---------------------------------------------|
| `user_id` | `number` | **Обязательный**. Идентификатор пользователя |
| `amount`  | `float`  | **Обязательный**. Сумма пополнения           |
| `comment` | `string` | **Обязательный**. Комментарий операции       |

| Параметр       | Тип      | Описание                   |
|:---------------|:---------|:---------------------------|
| `user_id`      | `number` | Идентификатор пользователя |
| `balance`      | `float`  | Текущий баланс             |
| `message`      | `string` | Статус операции            |

#### Начисление средств пользователю

### Списание средств

```http
POST /api/withdraw
```

| Параметр  | Тип      | Описание                                     |
|:----------|:---------|:---------------------------------------------|
| `user_id` | `number` | **Обязательный**. Идентификатор пользователя |
| `amount`  | `float`  | **Обязательный**. Сумма списания             |
| `comment` | `string` | **Обязательный**. Комментарий операции       |

| Параметр       | Тип      | Описание                   |
|:---------------|:---------|:---------------------------|
| `user_id`      | `number` | Идентификатор пользователя |
| `balance`      | `float`  | Текущий баланс             |
| `message`      | `string` | Статус операции            |

#### Списание средств

### Перевод между пользователями

```http
POST /api/transfer
```

| Параметр       | Тип      | Описание                                                 |
|:---------------|:---------|:---------------------------------------------------------|
| `from_user_id` | `number` | **Обязательный**. Идентификатор пользователя отправителя |
| `to_user_id`   | `number` | **Обязательный**. Идентификатор пользователя получателя  |
| `amount`       | `float`  | **Обязательный**. Сумма перевода                         |
| `comment`      | `string` | **Обязательный**. Комментарий операции                   |

| Параметр                | Тип      | Описание                               |
|:------------------------|:---------|:---------------------------------------|
| `from_user_id`          | `number` | Идентификатор пользователя отправителя |
| `to_user_id`            | `number` | Идентификатор пользователя получателя  |
| `balance`               | `float`  | Текущий баланс                         |
| `from_user_balance`     | `float`  | Текущий баланс отправителя             |
| `to_user_balance`       | `float`  | Текущий баланс получателя              |
| `message`               | `string` | Статус операции                        |

#### Перевод между пользователями

### Получение баланса пользователя

```http
GET /api/balance{user_id}
```

| Параметр  | Тип      | Описание                    |
|:----------|:---------|:----------------------------|
| `user_id` | `number` | Идентификатор пользователя  |
| `balance` | `number` | Текущий баланс пользователя |

#### Получение баланса пользователя
